# 33ìž¥ 7ë²ˆì§¸ ë°ì´í„° íƒ€ìž… Symbol

## 33.1 ì‹¬ë²Œì´ëž€?

- ì‹¬ë²Œì€ ES6ì— ë„ìž…ëœ 7ë²ˆìž¬ ë°ì´í„° íƒ€ìž…ìœ¼ë¡œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ì›ì‹œ íƒ€ìž…ì˜ ê°’ì´ë‹¤.
- ì£¼ë¡œ ì´ë¦„ì˜ ì¶©ëŒ ìœ„í—˜ì´ ì—†ëŠ” `ìœ ì¼í•œ í”„ë¡œí¼í‹° í‚¤`ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

## 33.2 ì‹¬ë²Œ ê°’ì˜ ìƒì„±

### 33.2.1 Symbol í•¨ìˆ˜

- ì‹¬ë²Œ ê°’ì€ Symbol í•¨ìˆ˜ë¥¼ í†µí•´ì„œë§Œ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

> ì´ë•Œ ìƒì„±ëœ ì‹¬ë²Œ ê°’ì€ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì§€ ì•Šì•„ í™•ì¸í•  ìˆ˜ ì—†ìœ¼ë©°, ë‹¤ë¥¸ ê°’ê³¼ ì ˆëŒ€ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìœ ì¼ë¬´ì´í•œ ê°’ì´ë‹¤.

- Symbol ê°’ì€ new ì—°ì‚°ìžë¡œ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì¦‰, ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.

```js
new Symbol(); // TypeError: Symbol is not a constructor
```

- Symbol í•¨ìˆ˜ì—ëŠ” ì„ íƒì ìœ¼ë¡œ ë¬¸ìžì—´ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤.

> ì´ ë¬¸ìžì—´ì€ Symbolì˜ ì„¤ëª…de-scriptionìœ¼ë¡œ ë””ë²„ê¹… ìš©ë„ë¡œë§Œ ì‚¬ìš©ëœë‹¤.

```js
// ì‹¬ë²Œ ê°’ì— ëŒ€í•œ ì„¤ëª…ì´ ê°™ë”ë¼ë„ ìœ ì¼ë¬´ì´í•œ ì‹¬ë²Œ ê°’ì„ ìƒì„±í•œë‹¤.
const mySymbol1 = Symbol("mySymbol");
const mySymbol2 = Symbol("mySymbol");

console.log(mySymbol1 === mySymbol2); // false
```

### 33.2.2 Symbol.for / Symbol.keyFor ë©”ì„œë“œ

- `Symbol.for ë©”ì„œë“œ`ëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë¬¸ìžì—´ì„ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ `ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬`ì—ì„œ í•´ë‹¹ í‚¤ì™€ ì¼ì¹˜í•˜ëŠ” ì‹¬ë²Œ ê°’ì„ ê²€ìƒ‰í•œë‹¤.

```js
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ ì‹¬ë²Œ ê°’ì„ ìƒì„±
const s1 = Symbol.for("mySymbol");
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì´ ìžˆìœ¼ë©´ í•´ë‹¹ ì‹¬ë²Œ ê°’ì„ ë°˜í™˜
const s2 = Symbol.for("mySymbol");

console.log(s1 === s2); // true
```

- `Symbol.keyFor ë©”ì„œë“œ`ë¥¼ ì‚¬ìš©í•˜ë©´ ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìžˆë‹¤.

```js
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ ì‹¬ë²Œ ê°’ì„ ìƒì„±
const s1 = Symbol.for("mySymbol");
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œ
Symbol.keyFor(s1); // -> mySymbol

// Symbol í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒì„±í•œ ì‹¬ë²Œ ê°’ì€ ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë“±ë¡ë˜ì–´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.
const s2 = Symbol("foo");
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ìž¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œ
Symbol.keyFor(s2); // -> undefined
```

## 33.3 ì‹¬ë²Œê³¼ ìƒìˆ˜

- ì‹¬ë²Œì€ ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

```js
// ìœ„, ì•„ëž˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì„ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
// ì´ë•Œ ê°’ 1, 2, 3, 4ì—ëŠ” íŠ¹ë³„í•œ ì˜ë¯¸ê°€ ì—†ê³  ìƒìˆ˜ ì´ë¦„ì— ì˜ë¯¸ê°€ ìžˆë‹¤.
const Direction = {
  UP: 1,
  DOWN: 2,
  LEFT: 3,
  RIGHT: 4,
};

// ë³€ìˆ˜ì— ìƒìˆ˜ë¥¼ í• ë‹¹
const myDirection = Direction.UP;

if (myDirection === Direction.UP) {
  console.log("You are going UP.");
}
```

- ìœ„ ì˜ˆì œì—ì„œ ìƒìˆ˜ ê°’ 1, 2, 3, 4ëŠ” ë³€ê²½ë  ìˆ˜ ìžˆìœ¼ë©°, ë‹¤ë¥¸ ë³€ìˆ˜ ê°’ê³¼ ì¤‘ë³µë  ìˆ˜ë„ ìžˆë‹¤.

> ì´ ê²½ìš° ë³€ê²½/ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ìžˆëŠ” ë¬´ì˜ë¯¸í•œ ìƒìˆ˜ ëŒ€ì‹  ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ì—†ëŠ” ìœ ì¼ë¬´ì´í•œ ì‹¬ë²Œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

```js
// ìœ„, ì•„ëž˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì„ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
// ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ì—†ëŠ” ì‹¬ë²Œ ê°’ìœ¼ë¡œ ìƒìˆ˜ ê°’ì„ ìƒì„±í•œë‹¤.
const Direction = {
  UP: Symbol("up"),
  DOWN: Symbol("down"),
  LEFT: Symbol("left"),
  RIGHT: Symbol("right"),
};

const myDirection = Direction.UP;

if (myDirection === Direction.UP) {
  console.log("You are going UP.");
}
```

### ðŸ’¡ enum

- enumì€ ëª…ëª…ëœ ìˆ«ìž ìƒìˆ˜ì˜ ì§‘í•©ìœ¼ë¡œ ì—´ê±°í˜•ì´ë¼ê³  ë¶€ë¥¸ë‹¤.
- ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” enumì„ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ `íƒ€ìž…ìŠ¤í¬ë¦½íŠ¸`ì—ì„œëŠ” enumì„ ì§€ì›í•œë‹¤.
- ìžë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” Object.freezeì™€ ì‹¬ë²Œë¡œ enumì„ ë§Œë“¤ìˆ˜ ìžˆë‹¤.

```js
// JavaScript enum
// Direction ê°ì²´ëŠ” ë¶ˆë³€ ê°ì²´ì´ë©° í”„ë¡œí¼í‹°ëŠ” ìœ ì¼ë¬´ì´í•œ ê°’ì´ë‹¤.
const Direction = Object.freeze({
  UP: Symbol("up"),
  DOWN: Symbol("down"),
  LEFT: Symbol("left"),
  RIGHT: Symbol("right"),
});

const myDirection = Direction.UP;

if (myDirection === Direction.UP) {
  console.log("You are going UP.");
}
```

## 33.4 ì‹¬ë²Œê³¼ í”„ë¡œí¼í‹° í‚¤

- ì‹¬ë²Œ ê°’ì„ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•  ì‹¬ë²Œ ê°’ì— ëŒ€ê´„í˜¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```js
const obj = {
  // ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ìƒì„±
  [Symbol.for("mySymbol")]: 1,
};

obj[Symbol.for("mySymbol")]; // -> 1
```

> ì‹¬ë²Œ ê°’ì€ ìœ ì¼ë¬´ì´í•œ ê°’ìœ¼ë¡œ ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë§Œë“¤ë©´ ë‹¤ë¥¸ í”„ë¡œí¼í‚¤ í‚¤ì™€ ì ˆëŒ€ ì¶©ëŒí•˜ì§€ ì•ŠëŠ”ë‹¤.

## 33.5 ì‹¬ë²Œê³¼ í”„ë¡œí¼í‹° ì€ë‹‰

- ì‹¬ë²Œ ê°’ì„ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•œ í”„ë¡œí¼í‹°ëŠ” `for...in ë¬¸`ì´ë‚˜ `Object.keys`, `Object.getOwnPropertyNames` ë©”ì„œë“œë¡œ ì°¾ì„ ìˆ˜ ì—†ë‹¤.

```js
const obj = {
  // ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ìƒì„±
  [Symbol("mySymbol")]: 1,
};

for (const key in obj) {
  console.log(key); // ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
}

console.log(Object.keys(obj)); // []
console.log(Object.getOwnPropertyNames(obj)); // []
```

## 33.6 ì‹¬ë²Œê³¼ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ í™•ìž¥

- ì¼ë°˜ì ìœ¼ë¡œ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ì— ì‚¬ìš©ìž ì •ì˜ ë©”ì„œë“œë¥¼ í™•ìž¥í•˜ëŠ” ê²ƒì€ ê¶Œìž¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ê°€ ê°€ì§„ ë©”ì„œë“œì˜ ì´ë¦„ì´ ì¤‘ë³µë  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì´ë‹¤.
- í•˜ì§€ë§Œ, ì‹¬ë²Œì„ ì´ìš©í•˜ë©´ ì¤‘ë³µë  ìœ„í—˜ì´ ì—†ê¸°ì— ê°€ëŠ¥í•˜ë‹¤.

```js
// ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë™ì  ìƒì„±í•˜ë©´ ë‹¤ë¥¸ í”„ë¡œí¼í‹° í‚¤ì™€ ì ˆëŒ€ ì¶©ëŒí•˜ì§€ ì•Šì•„ ì•ˆì „í•˜ë‹¤.
Array.prototype[Symbol.for("sum")] = function () {
  return this.reduce((acc, cur) => acc + cur, 0);
};

[1, 2][Symbol.for("sum")](); // -> 3
```

## 33.7 Well-known Symbol

- `Well-known Symbol`ì€ ìžë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ê¸°ë³¸ ì œê³µí•˜ëŠ” ë¹ŒíŠ¸ì¸ ì‹¬ë²Œ ê°’ì´ë‹¤.
- ì´í„°ëŸ¬ë¸”ì´ ì•„ë‹Œ ì¼ë°˜ ê°ì²´ë¥¼ ì´í„°ëŸ¬ë¸”ì²˜ëŸ¼ ë™ìž‘í•˜ë„ë¡ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´ `Well-known Symbol`ë¥¼ ì‚¬ìš©í•œë‹¤.

```js
// 1 ~ 5 ë²”ìœ„ì˜ ì •ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ì´í„°ëŸ¬ë¸”
const iterable = {
  // Symbol.iterator ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜
  [Symbol.iterator]() {
    let cur = 1;
    const max = 5;
    // Symbol.iterator ë©”ì„œë“œëŠ” next ë©”ì„œë“œë¥¼ ì†Œìœ í•œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜
    return {
      next() {
        return { value: cur++, done: cur > max + 1 };
      },
    };
  },
};

for (const num of iterable) {
  console.log(num); // 1 2 3 4 5
}
```
