# 26ì¥ ES6 í•¨ìˆ˜ì˜ ì¶”ê°€ ê¸°ëŠ¥

## 26.1 í•¨ìˆ˜ì˜ êµ¬ë¶„

ES6 ì´ì „ì˜ í•¨ìˆ˜ëŠ” ì‚¬ìš© ëª©ì ì— ë”°ë¼ ëª…í™•íˆ êµ¬ë¶„ë˜ì§€ ì•Šì•˜ë‹¤.  
ì¦‰, ES6 ì´ì „ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¬¼ë¡  ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```js
var foo = function () {
  return 1;
};

// ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
foo();

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
new foo();

// ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
var obj = { foo: foo };
obj.foo();
```

> ES6 ì´ì „ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ì‚¬ìš© ëª©ì ì´ ëª…í™•íˆ êµ¬ë¶„ë˜ì§€ ì•Šì•„ì„œ í˜¸ì¶œ ë°©ì‹ì— ì œì•½ì´ ì—†ê³ ,  
> ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œë„ì§€ ì•Šì•„ë„ í”„ë¡œí† íƒ€ì… ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì´ëŠ” í˜¼ë€ê³¼ ì„±ëŠ¥ ì €í•˜ë¥¼ ì¤€ë‹¤.

### ES6ì—ì„œëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ë¥¼ ì‚¬ìš© ëª©ì ì— ë”°ë¼ ì„¸ ê°€ì§€ë¡œ êµ¬ë¶„í–ˆë‹¤.

| ES6 í•¨ìˆ˜ì˜ êµ¬ë¶„    | constructor | prototype | super | arguments |
| ------------------ | :---------: | :-------: | :---: | :-------: |
| ì¼ë°˜ í•¨ìˆ˜(Normal)  |      O      |     O     |   X   |     O     |
| ë©”ì„œë“œ(Method)     |      X      |     X     |   O   |     O     |
| í™”ì‚´í‘œ í•¨ìˆ˜(Arrow) |      X      |     X     |   X   |     X     |

- ì¼ë°˜ í•¨ìˆ˜ëŠ” constructorì´ì§€ë§Œ ES6ì˜ ë©”ì„œë“œì™€ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” non-constructorë‹¤.

## 26.2 ë©”ì„œë“œ

ES6 ì´ì „ì—ëŠ” ê°ì²´ì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ë©”ì„œë“œë¼ í–ˆë‹¤.  
**ES6 ì‚¬ì–‘ì—ì„œ ë©”ì„œë“œëŠ” ë©”ì„œë“œ `ì¶•ì•½í‘œí˜„`ìœ¼ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œì„ ì˜ë¯¸í•œë‹¤.**

```js
const obj = {
  x: 1,
  // fooëŠ” ë©”ì„œë“œì´ë‹¤.
  foo() {
    return this.x;
  },
  // barì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ëŠ” ë©”ì„œë“œê°€ ì•„ë‹Œ ì¼ë°˜ í•¨ìˆ˜ì´ë‹¤.
  bar: function () {
    return this.x;
  },
};

console.log(obj.foo()); // 1
console.log(obj.bar()); // 1
```

- ES6 ì‚¬ì–‘ì—ì„œ ì •ì˜í•œ ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¬ë¥´ ìƒì„±í•  ìˆ˜ ì—†ëŠ” non-constructorë‹¤.
- ë”°ë¼ì„œ ES6 ë©”ì„œë“œëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
- ì¦‰, ES6 ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ prototype í”„ë¡œí¼í‹°ê°€ ì—†ê³  í”„ë¡œí† íƒ€ì…ë„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.

ES6 ë©”ì„œë“œëŠ” ìì‹ ì„ ë°”ì¸ë”©í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ `[[HomeObject]]`ë¥¼ ê°–ëŠ”ë‹¤.  
super ì°¸ì¡°ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ `[[HomeObject]]`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ  
ë‚´ë¶€ ìŠ¬ë¡¯ `[[HomeObject]]`ë¥¼ ê°–ëŠ” ES6 ë©”ì„œë“œëŠ” super í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
const base = {
  name: "Lee",
  sayHi() {
    return `Hi! ${this.name}`;
  },
};

const derived = {
  __proto__: base,
  // sayHiëŠ” ES6 ë©”ì„œë“œë‹¤. ES6 ë©”ì„œë“œëŠ” [[HomeObject]]ë¥¼ ê°–ëŠ”ë‹¤.
  // sayHiì˜ [[HomeObject]]ëŠ” sayHiê°€ ë°”ì¸ë”©ëœ ê°ì²´ì¸ derivedë¥¼ ê°€ë¦¬í‚¤ê³ 
  // superëŠ” sayHiì˜ [[HomeObject]]ì˜ í”„ë¡œí† íƒ€ì…ì¸ baseë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  sayHi() {
    return `${super.sayHi()}. how are you doing?`;
  },
};

console.log(derived.sayHi()); // Hi! Lee. how are you doing?
```

> ES6 ë©”ì„œë“œê°€ ì•„ë‹Œ í•¨ìˆ˜ëŠ” super í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ES6 ë©”ì„œë“œê°€ ì•„ë‹Œ í•¨ìˆ˜ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ `[[HomeObject]]`ë¥¼ ê°–ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

```js
const derived = {
  __proto__: base,
  // sayHiëŠ” ES6 ë©”ì„œë“œê°€ ì•„ë‹ˆë‹¤.
  // ë”°ë¼ì„œ sayHiëŠ” [[HomeObject]]ë¥¼ ê°–ì§€ ì•Šìœ¼ë¯€ë¡œ super í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
  sayHi: function () {
    // SyntaxError: 'super' keyword unexpected here
    return `${super.sayHi()}. how are you doing?`;
  },
};
```

## 26.3 í™”ì‚´í‘œ í•¨ìˆ˜

- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ì •ì˜ ë°©ì‹ë³´ë‹¤ ê°„ëµí•˜ê²Œ í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ë‚´ë¶€ ë™ì‘ë„ ê¸°ì¡´ì˜ í•¨ìˆ˜ë³´ë‹¤ ê°„ëµí•˜ë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisê°€ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ëŒ€ì•ˆìœ¼ë¡œ ìœ ìš©í•˜ë‹¤.

### 26.3.1 í™”ì‚´í‘œ í•¨ìˆ˜ ì •ì˜

- í•¨ìˆ˜ ëª¸ì²´ ì •ì˜

í•¨ìˆ˜ ëª¸ì²´ê°€ í•˜ë‚˜ì˜ ë¬¸ìœ¼ë¡œ êµ¬ì„±ë˜ë©´ ëª¸ì²´ë¥¼ ê°ì‹¸ëŠ” ì¤‘ê´„í˜¸ {}ë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.

```js
// concise body
const power = (x) => x ** 2;
power(2); // -> 4

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ë™ì¼í•˜ë‹¤.
// block body
const power = (x) => {
  return x ** 2;
};
```

í•¨ìˆ˜ ëª¸ì²´ê°€ í•˜ë‚˜ì˜ ë¬¸ìœ¼ë¡œ êµ¬ì„±ëœë‹¤ í•´ë„ í•¨ìˆ˜ ëª¸ì²´ì˜ ë¬¸ì´ í‘œí˜„ì‹ì´ ì•„ë‹Œ ë¬¸ì´ë¼ë©´ ì¤‘ê´„í˜¸ë¥¼ ìƒëŸ‰í•  ìˆ˜ ì—†ë‹¤.

```js
const arrow = () => {
  const x = 1;
};
```

ê°ì²´ ë¦¬í„°ëŸ´ì„ ë°˜í™˜í•˜ëŠ” ê²½ìš° ê°ì²´ ë¦¬í„°ëŸ´ì„ ì†Œí™œë¡œ ()ë¡œ ê°ì‹¸ ì£¼ì–´ì•¼ í•œë‹¤.

```js
const create = (id, content) => ({ id, content });
create(1, "JavaScript"); // -> {id: 1, content: "JavaScript"}

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ë™ì¼í•˜ë‹¤.
const create = (id, content) => {
  return { id, content };
};
```

í•¨ìˆ˜ ëª¸ì²´ê°€ ì—¬ëŸ¬ ê°œì˜ ë¬¸ìœ¼ë¡œ êµ¬ì„±ëœë‹¤ë©´, {} ë¥¼ ìƒëµí•  ìˆ˜ ì—†ë‹¤. ì´ë•Œ ë°˜í™˜ê°’ì´ ìˆë‹¤ë©´ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```js
const sum = (a, b) => {
  const result = a + b;
  return result;
};
```

í™”ì‚´í‘œ í•¨ìˆ˜ë„ `ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE)`ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
const person = ((name) => ({
  sayHi() {
    return `Hi? My name is ${name}`;
  },
}))("Lee");

console.log(person.sayHi()); // Hi? My name is Lee.
```

ğŸ’¡ í´ë¡œì € ë³µìŠµ

- í•¨ìˆ˜ëŠ” ìì‹ ì´ ì„ ì–¸ëœ ì‹œì ì—ì„œì˜ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•œë‹¤.
- `sayHi í•¨ìˆ˜`ê°€ ì„ ì–¸ëœ ì‹œì ì˜ `ë ‰ì‹œì»¬ í™˜ê²½ ë³€ìˆ˜`ëŠ” `name`ì´ë‹¤.
- `sayHi í•¨ìˆ˜`ëŠ” `nameë³€ìˆ˜`ë¥¼ ê¸°ì–µí•˜ëŠ” `í´ë¡œì €`ë‹¤.
- ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ëŠ” person ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì¢…ë£Œë˜ì§€ë§Œ, `ë ‰ì‹œì»¬ í™˜ê²½(name)`ì€ `sayHi í•¨ìˆ˜(í´ë¡œì €)`ê°€ ê¸°ì–µí•œë‹¤.
- person.sayHi()ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ nameì´ ê¸°ì–µë˜ì–´ ì‚¬ìš©ëœë‹¤.

í™”ì‚´í‘œ í•¨ìˆ˜ë„ ì¼ê¸‰ ê°ì²´ì´ë¯€ë¡œ ê³ ì°¨í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ í‘œí˜„ì‹ë³´ë‹¤ ê°„ê²°í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ë‹¤.

```js
// ES5
[1, 2, 3].map(function (v) {
  return v * 2;
});

// ES6
[1, 2, 3].map((v) => v * 2); // -> [ 2, 4, 6 ]
```

### 26.3.2 í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ ì°¨ì´

#### 1. í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ëŠ” non-constructorë‹¤.

> - í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ prototype í”„ë¡œí¼í‹°ê°€ ì—†ê³  í”„ë¡œí† íƒ€ì…ë„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
> - í•¨ìˆ˜ë¥¼ ê°ì²´ë¡œ ì‚¬ìš©í•˜ë ¤ëŠ” ê²ƒì´ ì•„ë‹Œ, ë‹¨ìˆœíˆ ì—°ìƒì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ê°’ì— ëŒ€í•œ ë°˜í™˜ì„ ì œê³µí•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
> - ğŸ’¡ ì´ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ ë†’ì—¬ì¤€ë‹¤.

#### 2. ì¤‘ë³µëœ ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì„ ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤.

```js
const arrow = (a, a) => a + a;
// SyntaxError: Duplicate parameter name not allowed in this context
```

#### 3. í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ `this`, `arguments`, `super`, `new.target` ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.

- í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `this`, `arguments`, `super`, `new.target`ì„ ì°¸ì¡°í•˜ë©´  
  ìŠ¤ì½”í”„ ì²´ì¸ì„ í†µí•´ ìƒìœ„ ìŠ¤ì½”í”„ì˜ this, arguments, super, new.targetì„ ì°¸ì¡°í•œë‹¤.

### 26.3.3 this

í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” ì¼ë°˜ í•¨ìˆ˜ì˜ thisì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.  
ì´ëŠ” ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ thisê°€ ì™¸ë¶€ í•¨ìˆ˜ì˜ thisì™€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•´ì¤€ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ thisëŠ” `ëˆ„ê°€ í˜¸ì¶œí–ˆëŠ”ê°€`ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.  
ì—¬ê¸°ì„œ ë¬¸ì œëŠ” ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ ê²½ìš°ë‹¤.

```js
class Prefixer {
  constructor(prefix) {
    this.prefix = prefix;
  }

  add(arr) {
    // add ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ë°°ì—´ arrì„ ìˆœíšŒí•˜ë©° ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œì— prefixë¥¼ ì¶”ê°€í•œë‹¤.
    // â‘ 
    return arr.map(function (item) {
      return this.prefix + item; // â‘¡
      // -> TypeError: Cannot read property 'prefix' of undefined
    });
  }
}

const prefixer = new Prefixer("-webkit-");
console.log(prefixer.add(["transition", "user-select"]));
```

- â‘  ì—ì„œ thisëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ (prefixer)ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- â‘¡ ì—ì„œ thisëŠ” ì „ì—­ê°ì²´(í´ë˜ìŠ¤ì—ì„œëŠ” undefined)ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

> `ê³¨ë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ this ë¬¸ì œ`  
>  ì½œë°±í•¨ìˆ˜ this â‘¡ ì™€ ì™¸ë¶€ í•¨ìˆ˜ this â‘ ê°€ ë‹¤ë¥¸ ê°’ì„ ê°€ë¦¬í‚¨ë‹¤.

ES6ì—ì„œëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ `ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ this ë¬¸ì œ`ë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```js
class Prefixer {
  constructor(prefix) {
    this.prefix = prefix;
  }

  add(arr) {
    return arr.map((item) => this.prefix + item);
  }
}

const prefixer = new Prefixer("-webkit-");
console.log(prefixer.add(["transition", "user-select"]));
// ['-webkit-transition', '-webkit-user-select']
```

> í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ this ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisë¥¼ ì°¸ì¡°í•˜ë©´ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê·¸ëŒ€ë¡œ ì°¸ì¡°í•œë‹¤.  
> ì´ë¥¼ lexical thisë¼ í•œë‹¤. ì´ëŠ” ë§ˆì¹˜ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì™€ ê°™ì´ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisê°€ í•¨ìˆ˜ê°€ `ì •ì˜ëœ ìœ„ì¹˜`ì— ì˜í•´ ê²°ì •ëœê°€ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

### í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì„ í”¼ì• í– í•˜ëŠ” ê²½ìš°

#### â­ï¸ ë©”ì„œë“œë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì€ í”¼í•´ì•¼ í•œë‹¤.

```js
// Bad
const person = {
  name: "Lee",
  sayHi: () => console.log(`Hi ${this.name}`),
};

// sayHi í”„ë¡œí¼í‹°ì— í• ë‹¹ëœ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì „ì—­ì˜ thisê°€ ê°€ë¦¬í‚¤ëŠ”
// ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ ì´ ì˜ˆì œë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰í•˜ë©´ this.nameì€ ë¹ˆ ë¬¸ìì—´ì„ ê°–ëŠ”
// window.nameê³¼ ê°™ë‹¤. ì „ì—­ ê°ì²´ windowì—ëŠ” ë¹ŒíŠ¸ì¸ í”„ë¡œí¼í‹° nameì´ ì¡´ì¬í•œë‹¤.
person.sayHi(); // Hi
```

- sayHi í”„ë¡œí¼í‹°ì— í• ë‹¹í•œ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì™¸ë¶€ ìŠ¤ì½”í”„ì¸ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```js
// Good
const person = {
  name: "Lee",
  sayHi() {
    console.log(`Hi ${this.name}`);
  },
};

person.sayHi(); // Hi Lee
```

- ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•ŒëŠ” ES6 ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ìœ¼ë¡œ ì •ì˜í•œ ES6 ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì.

#### â­ï¸ addEventListener í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.

```js
let btn = document.querySelector("button");
btn.addEventListener("click", () => {
  console.log(this === window);
});
```

- click ì´ë²¤íŠ¸ë¥¼ í˜¸ì¶œí•œ ë†ˆì€ btnì´ì§€ë§Œ, í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ btn ì™¸ë¶€ ìŠ¤ì½”í”„ ì¦‰, windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.

### 26.3.4 super

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ super ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.  
ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ superë¥¼ ì°¸ì¡°í•˜ë©´ thisì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒìœ„ ìŠ¤ì½”í”„ì˜ superë¥¼ ì°¸ì¡°í•œë‹¤.

```js
class Base {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    return `Hi! ${this.name}`;
  }
}

class Derived extends Base {
  // í™”ì‚´í‘œ í•¨ìˆ˜ì˜ superëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ constructorì˜ superë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  sayHi = () => `${super.sayHi()} how are you doing?`;
}

const derived = new Derived("Lee");
console.log(derived.sayHi()); // Hi! Lee how are you doing?
```

- superëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ `[[HomeObject]]`ë¥¼ ê°–ëŠ” ES6 ë©”ì„œë“œ ë‚´ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ë©”ì„œë“œëŠ” ES6 ë©”ì„œë“œê°€ ì•„ë‹ˆì§€ë§Œ í•¨ìˆ˜ ìì²´ì˜ super ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.
- ë•Œë¬¸ì—, thisì™€ ë§ˆì°¬ê°€ì§€ë¡œ constructor ë‚´ë¶€ì˜ super ë°”ì¸ë”©ì„ ì°¸ì¡°í•œë‹¤.
- ê·¸ëƒ¥ ES6 ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì...

### 26.3.5 arguments

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ arguments ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.  
ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ argumentsë¥¼ ì°¸ì¡°í•˜ë©´ thisì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒìœ„ ìŠ¤ì½”í”„ì˜ argumentsë¥¼ ì°¸ì¡°í•œë‹¤.

<img src="https://velog.velcdn.com/images/sarang_daddy/post/b6d761ed-696a-4133-be0a-6518339d9500/image.png" width="60%">

```js
// í™”ì‚´í‘œ í•¨ìˆ˜ fooì˜ argumentsëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì „ì—­ì˜ argumentsë¥¼ ê°€ë¦¬í‚¨ë‹¤.
// í•˜ì§€ë§Œ ì „ì—­ì—ëŠ” arguments ê°ì²´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. arguments ê°ì²´ëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë§Œ ìœ íš¨í•˜ë‹¤.
const foo = () => console.log(arguments);
foo(1, 2); // ReferenceError: arguments is not defined
```

- arguments ê°ì²´ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë¥¼ í™•ì •í•  ìˆ˜ ì—†ëŠ” ê°€ë³€ ì¸ì í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ë•Œ ìœ ìš©í•˜ë‹¤.
- í•˜ì§€ë§Œ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œëŠ” arguments ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ê°€ë³€ ì¸ì í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì•¼ í•  ë•ŒëŠ” ë°˜ë“œì‹œ Rest íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

## 26.4 Rest íŒŒë¼ë¯¸í„°

### 26.4.1 ê¸°ë³¸ ë¬¸ë²•

Rest íŒŒë¼ë¯¸í„°ëŠ” `ë‚˜ë¨¸ì§€ ë§¤ê°œë³„ìˆ˜`ë¡œ í•¨ìˆ˜ì— ì „ë‹¬ëœ ì¸ìˆ˜ë“¤ì˜ ëª©ë¡ì„ ë°°ì—´ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```js
function foo(...rest) {
  console.log(rest); // [1,2,3,4,5]
}

foo(1, 2, 3, 4, 5);
```

ì¼ë°˜ ë§¤ê°œë³€ìˆ˜ì™€ Rest íŒŒë¼ë¯¸í„°ëŠ” í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
function foo(param, ...rest) {
  console.log(param); // 1
  console.log(rest); // [2,3,4,5]
}

foo(1, 2, 3, 4, 5);

function bar(param1, param2, ...rest) {
  console.log(param1); // 1
  console.log(param2); // 2
  console.log(rest); // [3, 4, 5]
}

bar(1, 2, 3, 4, 5);
```

- Rest íŒŒë¼ë¯¸í„°ëŠ” ë°˜ë“œì‹œ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ì´ì–´ì•¼ í•œë‹¤.
- Rest íŒŒë¼ë¯¸í„°ëŠ” ë‹¨ í•˜ë‚˜ë§Œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.
- Rest íŒŒë¼ë¯¸í„°ëŠ” í•¨ìˆ˜ ì •ì˜ ì‹œ ì„ ì–¸í•œ ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜ ê°ì²´ì˜ length í”„ë¡œí¼í‹°ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

```js
function foo(...rest) {}
console.log(foo.length); // 0

function bar(x, ...rest) {}
console.log(bar.length); // 1

function baz(x, y, ...rest) {}
console.log(baz.length); // 2
```

### 26.4.2 Rest íŒŒë¼ë¯¸í„°ì™€ arguments ê°ì²´

- ES5ì—ì„œëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë¥¼ í™•ì •í•  ìˆ˜ ì—†ëŠ” ê°€ë³€ ì¸ì í•¨ìˆ˜ì˜ ê²½ìš° ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ì¸ìˆ˜ë¥¼ ì „ë‹¬ ë°›ì§€ ëª»í–ˆë‹¤.
- ê·¸ë˜ì„œ ì‚¬ìš©ëœê²Œ arguments ê°ì²´ë‹¤.

```js
// ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë¥¼ ì‚¬ì „ì— ì•Œ ìˆ˜ ì—†ëŠ” ê°€ë³€ ì¸ì í•¨ìˆ˜
function sum() {
  // ê°€ë³€ ì¸ì í•¨ìˆ˜ëŠ” arguments ê°ì²´ë¥¼ í†µí•´ ì¸ìˆ˜ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.
  console.log(arguments);
}

sum(1, 2); // {length: 2, '0': 1, '1': 2}
```

> í•˜ì§€ë§Œ, arguments ê°ì²´ëŠ” `ìœ ì‚¬ ë°°ì—´ ê°ì²´`ë¡œ ë°°ì—´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í–ˆë‹¤.

```js
function sum() {
  // ìœ ì‚¬ ë°°ì—´ ê°ì²´ì¸ arguments ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë³€í™˜í•œë‹¤.
  var array = Array.prototype.slice.call(arguments);

  return array.reduce(function (pre, cur) {
    return pre + cur;
  }, 0);
}

console.log(sum(1, 2, 3, 4, 5)); // 15
```

> ES6ì—ì„œëŠ” rest íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ë³€ ì¸ì í•¨ìˆ˜ì˜ ì¸ìˆ˜ ëª©ë¡ì„ ì „ë‹¬ ë°›ì„ ìˆ˜ ìˆë‹¤.

```js
function sum(...args) {
  // Rest íŒŒë¼ë¯¸í„° argsì—ëŠ” ë°°ì—´ [1, 2, 3, 4, 5]ê°€ í• ë‹¹ëœë‹¤.
  return args.reduce((pre, cur) => pre + cur, 0);
}
console.log(sum(1, 2, 3, 4, 5)); // 15
```

- rest íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ë°°ì—´ë¡œ ì „ë‹¬ ë°›ê¸°ì— ë°°ì—´ë¡œ ë³€í™˜í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ í”¼í•  ìˆ˜ ìˆë‹¤.
- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” arguments ê°ì²´ë¥¼ ê°–ì§€ ëª»í•œë‹¤. ì¦‰, restë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- **í™”ì‚´í‘œ í•¨ìˆ˜ + rest íŒŒë¼ë¯¸í„°ë¥¼ ì ê·¹ ì‚¬ìš©í•˜ì.**

## 26.5 ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’

í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë§Œí¼ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ì§€ë§Œ ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.  
ì—¬ê¸°ì„œ ì¸ìˆ˜ê°€ ì „ë‹¬ë˜ì§€ ì•Šì€ ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì€ undefinedê°€ ëœë‹¤.

```js
function sum(x, y) {
  return x + y;
}

console.log(sum(1)); // NaN
```

- ì—ëŸ¬ê°€ ì•ˆë‚˜ì˜¤ê³  ì˜ë„ì¹˜ ì•Šì€ ê°’ì´ ë¦¬í„´ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.

> ES6ì—ì„œ ë„ì…ëœ ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ ë‚´ì—ì„œ ìˆ˜í–‰í•˜ë˜ ì¸ìˆ˜ ì²´í¬ ë° ì´ˆê¸°í™”ë¥¼ ê°„ì†Œí™”í•  ìˆ˜ ìˆë‹¤.

```js
function sum(x = 0, y = 0) {
  return x + y;
}

console.log(sum(1, 2)); // 3
console.log(sum(1)); // 1
```

- ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šê±°ë‚˜ undefinedì¸ ê²½ìš° ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒ€ì²´ëœë‹¤.

Rest íŒŒë¼ë¯¸í„°ì—ì„œëŠ” ê¸°ë³¸ê°’ì„ ì§€ì •í•  ìˆ˜ ì—†ë‹¤.

```js
function foo(...rest = []) {
  console.log(rest);
}
// SyntaxError: Rest parameter may not have a default initializer
```
